const translations = {
  es: {
    nav: {
      about: "Sobre mí",
      experience: "Experiencia",
      projects: "Proyectos",
      skills: "Tecnologías",
      certs: "Certificaciones",
      education: "Educación",
      contact: "Contacto"
    },
    hero: {
      roles: ["Ingeniero de Software", "Especialista React Native", "Desarrollador Full Stack"],
      lead: "Ingeniero de Software especializado en <strong>Front-End</strong> (Angular, React Native) con sólida competencia en <strong>Back-End</strong> (Node.js, API RESTful). Experto en la <strong>modernización de interfaces</strong> y la <strong>automatización de procesos</strong> empresariales mediante soluciones multiplataforma bajo estándares avanzados de <strong>UX/UI</strong>.",
      contactBtn: "Contáctame"
    },
    about: {
      title: "Sobre mí",
      text: "<p>Me apasiona construir productos digitales que sean herramientas claras y sólidas. Mi metodología parte de entender a fondo la <strong>lógica del negocio</strong> para diseñar soluciones eficientes.</p><p>A nivel técnico, desarrollo interfaces multiplataforma con <strong>React</strong>, <strong>React Native</strong> y <strong>Angular</strong>. En el backend, construyo servicios robustos con <strong>C#</strong> y <strong>Node.js</strong>.</p><p>En lo humano, soy pragmático y orientado a resultados: disfruto trabajar en equipo y aportar estructura.</p>"
    },
    experience: {
      title: "Experiencia",
      more: "Ver perfil completo en LinkedIn",
      innova: {
        title: "Desarrollador Front-End",
        date: "Julio 2023 — Noviembre 2025",
        desc: "Bajo metodología <strong>Scrum</strong>, fui parte del desarrollo y mantenimiento de interfaces móviles en <strong>React Native</strong>. Realicé la integración técnica con <strong>Node.js</strong> y gestioné el ciclo de vida en <strong>GitHub</strong>."
      },
      jbarreiro: {
        title: "Analista Programador",
        date: "Abril 2020 — Mayo 2023",
        desc: "Desarrollé un sistema integral de facturación basado en <strong>React</strong> y soluciones de inteligencia de negocios con <strong>Power BI</strong>. Mantenimiento de endpoints críticos en <strong>Azure API</strong>."
      }
    },
    projects: {
      title: "Proyectos",
      more: "Ver más en GitHub",
      erp: {
        badge: "Enterprise ERP",
        title: "Sistema de Gestión JBARREIRO",
        desc1: "Solución de escritorio robusta desarrollada en <strong>WPF (.NET C#)</strong> bajo el patrón de arquitectura <strong>MVVM</strong>. Centraliza la operación del negocio gestionando facturación, inventario en tiempo real, cobros y nómina.",
        desc2: "Infraestructura alojada en <strong>Azure</strong> con <strong>SQL Server</strong>. Integra módulos de inteligencia de negocios con <strong>Power BI</strong> para visualización estratégica de KPIs."
      },
      nasa: {
        badge: "Integración API Móvil",
        title: "Daily Nasa",
        desc1: "Aplicación móvil desarrollada en <strong>React Native</strong> enfocada en el consumo de datos externos. La app se conecta exitosamente a la <strong>API pública de la NASA</strong> (APOD) para obtener y procesar contenido dinámico.",
        desc2: "Implementa un manejo eficiente de peticiones HTTP y renderizado de imágenes para visualizar una galería interactiva con las últimas 'Fotos de la Semana', asegurando una experiencia de usuario fluida en iOS y Android."
      }
    },
    skills: {
      title: "Tecnologías"
    },
    certs: {
      title: "Certificaciones",
      more: "Ver todas las certificaciones",
      sas: "User Interfaces",
      fortinet: "Proto-Design",
      huawei: "Cloud Basics: Development"
    },
    education: {
      title: "Educación",
      intec: {
        title: "Ingeniería en Software",
        date: "2023 — Presente (Estudiante de Término)"
      },
      itsc: {
        title: "Técnico Superior en Desarrollo de Software",
        date: "2020 — 2022 (Culminado)"
      }
    },
    languages: {
      title: "Idiomas",
      es: { name: "Español", level: "Nativo" },
      en: { name: "Inglés", level: "Intermedio — B2" }
    },
    contact: {
      title: "Contacto",
      how: "Hablemos de tu próximo proyecto",
      desc: "Estoy disponible para nuevas oportunidades laborales y colaboraciones. Si buscas un perfil que combine lógica de negocio con interfaces modernas, escríbeme.",    
      form: {
        subjectLabel: "Asunto",
        subjectPh: "Ej: Oportunidad Full Stack",
        emailLabel: "Correo Electrónico",
        emailPh: "nombre@empresa.com",
        messageLabel: "Mensaje",
        messagePh: "Hola Jose, me gustaría conversar sobre...",
        send: "Enviar Mensaje"
      }
    },
    footer: {
        navTitle: "Navegación",
        connectTitle: "Conectar",
        copyright: "© 2026 Jose Barreiro. Portafolio hecho desde 0%."
    }
  },

  en: {
    nav: {
      about: "About Me",
      experience: "Experience",
      projects: "Projects",
      skills: "Skills",
      certs: "Certifications",
      education: "Education",
      contact: "Contact"
    },
    hero: {
      roles: ["Software Engineer", "Full Stack Developer", "React Native Specialist"],
      lead: "Software Engineer specialized in <strong>Front-End</strong> (Angular, React Native) with strong <strong>Back-End</strong> skills (Node.js, RESTful APIs). Expert in <strong>interface modernization</strong> and business <strong>process automation</strong> via cross-platform solutions under advanced <strong>UX/UI</strong> standards.",
      contactBtn: "Contact Me"
    },
    about: {
      title: "About Me",
      text: "<p>I am passionate about building digital products that serve as clear and robust tools. My methodology starts with understanding the <strong>business logic</strong> to design efficient solutions.</p><p>Technically, I develop cross-platform interfaces with <strong>React</strong>, <strong>React Native</strong>, and <strong>Angular</strong>. On the backend, I build robust services with <strong>C#</strong> and <strong>Node.js</strong>.</p><p>Personally, I am pragmatic and result-oriented: I enjoy teamwork and providing structure.</p>"
    },
    experience: {
      title: "Experience",
      more: "See full profile on LinkedIn",
      innova: {
        title: "Front-End Developer",
        date: "July 2023 — November 2025",
        desc: "Under <strong>Scrum</strong> methodology, I was part of the development and maintenance of mobile interfaces in <strong>React Native</strong>. I performed technical integration with <strong>Node.js</strong> and managed the lifecycle in <strong>GitHub</strong>."
      },
      jbarreiro: {
        title: "Programmer Analyst",
        date: "April 2020 — May 2023",
        desc: "Developed a comprehensive billing system based on <strong>React</strong> and business intelligence solutions with <strong>Power BI</strong>. Maintained critical endpoints in <strong>Azure API</strong>."
      }
    },
    projects: {
      title: "Projects",
      more: "View more on GitHub",
      erp: {
        badge: "Enterprise ERP",
        title: "JBARREIRO Management System",
        desc1: "Robust desktop solution developed in <strong>WPF (.NET C#)</strong> using the <strong>MVVM</strong> architectural pattern. It centralizes business operations by managing invoicing, real-time inventory, collections, and payroll.",
        desc2: "Infrastructure hosted on <strong>Azure</strong> with <strong>SQL Server</strong>. Integrates business intelligence modules with <strong>Power BI</strong> for strategic KPI visualization."
      },
      nasa: {
        badge: "Mobile API Integration",
        title: "Daily Nasa",
        desc1: "Mobile application developed in <strong>React Native</strong> focused on external data consumption. The app successfully connects to the <strong>public NASA API</strong> (APOD) to fetch and process dynamic content.",
        desc2: "Implements efficient HTTP request handling and image rendering to visualize an interactive gallery of the latest 'Photos of the Week', ensuring a smooth user experience on iOS and Android."
      }
    },
    skills: {
      title: "Skills"
    },
    certs: {
      title: "Certifications",
      more: "View all certifications",
      sas: "User Interfaces",
      fortinet: "Proto-Design",
      huawei: "Cloud Basics: Development"
    },
    education: {
      title: "Education",
      intec: {
        title: "Software Engineering",
        date: "2023 — Present (Senior Student)"
      },
      itsc: {
        title: "Higher Technician in Software Development",
        date: "2020 — 2022 (Completed)"
      }
    },
    languages: {
      title: "Languages",
      es: { name: "Spanish", level: "Native" },
      en: { name: "English", level: "Intermediate — B2" }
    },
    contact: {
      title: "Contact",
      how: "Let's talk about your next project",
      desc: "I am available for new job opportunities and collaborations. If you are looking for a profile that combines business logic with modern interfaces, write to me.",
      form: {
        subjectLabel: "Subject",
        subjectPh: "Ex: Full Stack Opportunity",
        emailLabel: "Email Address",
        emailPh: "name@company.com",
        messageLabel: "Message",
        messagePh: "Hi Jose, I'd like to discuss...",
        send: "Send Message"
      }
    },
    footer: {
        navTitle: "Navigation",
        connectTitle: "Connect",
        copyright: "© 2026 Jose Barreiro. Portfolio built from scratch."
    }
  }
};


let currentLang = localStorage.getItem('lang') || 'es';


function updateLanguage(lang) {

  localStorage.setItem('lang', lang);
  currentLang = lang;

  const langBtn = document.getElementById('langToggle');
  if (langBtn) {
    langBtn.textContent = lang === 'es' ? 'EN' : 'ES';
    langBtn.setAttribute('aria-label', lang === 'es' ? 'Switch to English' : 'Cambiar a Español');
  }


  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    const translation = getNestedTranslation(translations[lang], key);

    if (translation) {
      
      if (translation.includes('<')) {
        element.innerHTML = translation;
      } else {
        element.textContent = translation;
      }
    }
  });

  
  document.querySelectorAll('[data-i18n-placeholder]').forEach(element => {
    const key = element.getAttribute('data-i18n-placeholder');
    const translation = getNestedTranslation(translations[lang], key);
    if (translation) {
      element.setAttribute('placeholder', translation);
    }
  });
}


function getNestedTranslation(obj, path) {
  return path.split('.').reduce((prev, curr) => {
    return prev ? prev[curr] : null;
  }, obj);
}


document.addEventListener('DOMContentLoaded', () => {
  updateLanguage(currentLang);
  
  const langBtn = document.getElementById('langToggle');
  if (langBtn) {
    langBtn.addEventListener('click', () => {
      const newLang = currentLang === 'es' ? 'en' : 'es';
      updateLanguage(newLang);
    });
  }
});